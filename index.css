


@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-matrix: #00FF9D;
  --color-dna: #A855F7;
  --color-flux: #FF2D55;
  --color-filter: #00F0FF;
  --color-type: #FF00FF;
  --color-vector: #00FFCC;
  --color-adjust: #FFCC00;
  --color-buff: #3B82F6;
  --color-cyber-bg: #000000;
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);

  /* Sakuga Theme Core overrides from public/index.css */
  --color-primary: #F8130D; /* Red */
  --color-secondary: #FB4606; /* Orange */
  --color-highlight: #FCF721; /* Yellow */
  --color-background: #000000;
  --color-surface: #0A0A0A;
  --color-surface-light: #111111;
  --color-border: #222222;
  --color-text: #FFFFFF;
  --color-text-muted: #9CA3AF;
  --font-display: 'Koulen', sans-serif;
  --font-mono: 'Orbitron', monospace;
  --font-sans: 'Inter', sans-serif;
}

@layer base {
  html, body, #root {
    height: 100%;
    width: 100%;
    margin: 0;
    display: flex;
    flex-direction: column;
    background-color: var(--color-cyber-bg);
    color: white;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
    select: none;
    -webkit-tap-highlight-color: transparent;
    /* Ensure hardware acceleration for the entire shell */
    transform: translateZ(0);
  }

  /* Base Input/Textarea/Select Styling from public/index.css */
  input[type="text"],
  input[type="number"],
  input[type="range"],
  textarea,
  select {
    background-color: var(--color-background);
    border: 2px solid var(--color-border);
    color: var(--color-text);
    padding: 0.75rem 1rem;
    transition: all 0.2s ease-in-out;
    font-family: var(--font-mono);
    /* Force 16px font size on mobile to prevent iOS zoom-on-focus */
    font-size: 16px; 
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
  }

  @media (min-width: 768px) {
      input[type="text"],
      input[type="number"],
      textarea,
      select {
          font-size: 14px;
      }
  }

  input[type="text"]:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 15px var(--color-primary);
  }

  select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='%23F8130D'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='m19.5 8.25-7.5 7.5-7.5-7.5' /%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    background-size: 1em;
    padding-right: 2.5rem;
  }

  h1, h2, h3, h4 {
    @apply font-display tracking-tight text-white uppercase italic;
    /* Frequency adjusted for subtle hardware-style flicker */
    animation: terminal-flicker 6s infinite step-end;
    text-shadow: 0 0 10px rgba(255,255,255,0.3);
  }

  input, textarea {
    font-size: 16px !important;
  }
}

@keyframes terminal-flicker {
  0%, 100% { opacity: 1; }
  31% { opacity: 1; }
  32% { opacity: 0.85; }
  33% { opacity: 1; }
  34% { opacity: 0.95; }
  35% { opacity: 1; }
  78% { opacity: 1; }
  79% { opacity: 0.75; }
  80% { opacity: 1; }
  92% { opacity: 1; }
  93% { opacity: 0.92; }
  94% { opacity: 1; }
}

@layer components {
  .pixshop-wordmark {
    @apply font-display uppercase italic tracking-tighter leading-none select-none;
    text-shadow: 3px 0px 0px rgba(255, 45, 85, 0.8), -3px 0px 0px rgba(0, 255, 157, 0.8), 0 0 20px rgba(255,255,255,0.4);
  }

  .wildstyle-logo {
    font-family: 'Rubik Wet Paint', cursive;
    @apply uppercase tracking-tighter;
    text-shadow: 4px 4px 0px rgba(0,0,0,1), 0 0 30px rgba(255,255,255,0.5);
    filter: drop-shadow(0 0 15px rgba(255,255,255,0.3));
    background: linear-gradient(180deg, #ffffff 40%, #cccccc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .scribble-pattern {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: scribble-draw 2.5s ease-out forwards;
  }

  @keyframes scribble-draw {
    to { stroke-dashoffset: 0; }
  }

  .glass-panel {
    @apply bg-zinc-950/90 backdrop-blur-xl border border-white/20 rounded-none;
    will-change: transform, opacity;
    box-shadow: 0 0 30px rgba(0,0,0,0.8), inset 0 0 20px rgba(255,255,255,0.05);
  }

  .cyber-button {
    @apply relative overflow-hidden px-5 py-2.5 bg-white/5 border border-white/20 text-white font-black uppercase tracking-[0.15em] transition-all duration-200 hover:bg-white hover:text-black hover:shadow-[0_0_25px_rgba(255,255,255,0.6)] active:scale-95 disabled:opacity-20 text-[10px] skew-x-[-12deg];
  }

  .cyber-button > * { @apply skew-x-[12deg]; }

  .panel-label {
    @apply text-[9px] font-mono font-black uppercase tracking-[0.25em] mb-1.5 block border-l-2 border-white/30 pl-2 leading-none opacity-60 mt-1 shadow-[0_0_10px_rgba(255,255,255,0.1)];
  }

  .execute-btn {
    @apply w-full h-11 relative overflow-hidden bg-black border border-white/20 transition-all active:scale-95 flex items-center justify-center gap-3 group rounded-none;
    box-shadow: 0 0 20px rgba(0,0,0,0.8); /* Added default shadow for consistency */
  }

  .preset-grid {
    @apply grid grid-cols-2 gap-4 w-full items-stretch; /* Increased gap from gap-1 to gap-4 */
  }

  .preset-card {
    @apply relative flex flex-col items-start justify-center p-2 
           bg-white/[0.03] border border-white/[0.1] rounded-none
           transition-all duration-150 active:scale-[0.97] overflow-hidden w-full h-auto min-h-[2.75rem]
           hover:border-white/30 hover:bg-white/[0.08];
  }

  .scanline-overlay {
    position: fixed;
    inset: 0;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.2) 50%);
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.1;
    will-change: opacity;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 2px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-white/20;
  }

  @keyframes scanline-anim {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(200%); }
  }

  .hover-scanline {
    @apply absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-20 z-20;
    background: linear-gradient(180deg, transparent 0%, white 50%, transparent 100%);
    height: 10px;
    animation: scanline-anim 1.5s linear infinite;
  }

  /* Sakuga Utility Classes from public/index.css */
  .cyber-grid {
    background-image:
      linear-gradient(var(--color-primary), 1px, transparent 1px),
      linear-gradient(90deg, var(--color-secondary), 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.15;
  }

  .btn-sakuga {
    font-family: var(--font-display);
    transform: skew(-10deg);
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
    border-width: 2px;
  }

  .btn-sakuga:hover {
    transform: skew(-10deg) translateY(-2px);
    box-shadow: 0 0 25px rgba(248, 19, 13, 0.6);
    border-color: var(--color-primary);
    text-shadow: 0 0 12px rgba(255, 255, 255, 0.8);
  }
  .btn-sakuga:active {
    transform: skew(-10deg) scale(0.98);
    box-shadow: 0 0 10px rgba(248, 19, 13, 0.4);
  }

  .btn-sakuga::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: none;
    z-index: 1;
    pointer-events: none;
  }
  .btn-sakuga:hover::before {
    left: 100%;
    transition: left 0.6s ease-out;
  }

  .btn-sakuga > * {
    transform: skew(10deg);
    position: relative;
    z-index: 2;
  }
}

@layer utilities {
  .gpu-accelerate {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
  }
  
  .asphalt-grid {
    background-image: radial-gradient(circle, #ffffff 1px, transparent 1px);
    background-size: 40px 40px;
  }
}